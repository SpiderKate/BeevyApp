{% extends "base.html" %}
{% block title %}Art Details{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/art_detail.css">
{% endblock %}

{% block content %}
<div class="art-detail">

<h2>{{ item[2] }}</h2>
{% if not is_active and owns %}
    <p>By ####</p>
    {% if item[3] %}
        <p>Description: {{ item[3] }}</p>
    {% endif %}
{% else %}
    <p>By {{ author_display or (item[-1] or item[1]) }}</p>
    {% if is_active %}
        <p>Price: {{ item[5] }} BP</p>
        <p>Turnaround time: {{ item[4] }} days</p>
    {% endif %}
    <p>Description: {{ item[3] }}</p>
{% endif %}

{% if owns %}
    <h3>Owned preview</h3>
    {% if owned_image %}
        <div style="position: relative; display: inline-block;">
            <img src="{{ url_for('static', filename=owned_image) }}" alt="Owned preview" class="preview-img" oncontextmenu="return false;">
            <div style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
        </div>
    {% else %}
        <p><em>No owned preview available.</em></p>
    {% endif %}
{% else %}
    <h3>Shop preview</h3>
    {% if item[8] %}
        <div style="position: relative; display: inline-block;">
            <img src="{{ url_for('static', filename=item[8]) }}" alt="Shop preview" class="preview-img" oncontextmenu="return false;">
            <div style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
        </div>
    {% elif item[7] %}
        <div style="position: relative; display: inline-block;">
            <img src="{{ url_for('static', filename=item[7]) }}" alt="Thumbnail" class="preview-img" oncontextmenu="return false;">
            <div style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
        </div>
    {% endif %}
{% endif %}

{% if examples_list %}
    <h3>Example images</h3>
    {% for ex in examples_list %}
        <div style="position: relative; display: inline-block;">
            <img src="{{ url_for('static', filename=ex) }}" alt="Example" class="preview-img" oncontextmenu="return false;">
            <div style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
        </div>
    {% endfor %}
{% endif %}
<br>
{% if owns %}
    <a href="{{ url_for('download_art', art_id=item[0]) }}" class="btn download">
        Download Original
    </a>
{% elif is_author %}
    <a href="{{ url_for('editArt', username = session.get('username'), art_id=item[0]) }}">
        Edit artwork.
    </a>
{% elif is_active %}
    <a href="{{ url_for('buy_art', art_id=item[0]) }}" class="btn buy">
        Buy for {{ item[5] }} BP
    </a>
{% else %}
    <p><em>This artwork has been removed from the shop.</em></p>
{% endif %}

</div>
{% endblock %}
