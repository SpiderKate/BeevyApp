{% extends "base.html" %}
{% block title %}Art Details{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/art_detail.css">
{% endblock %}

{% block content %}
<div class="art-detail">
    <h2>{{ item[2] }}</h2>
    <p>By {{ item[1] }}</p>
    
    {% if is_active %}
        <p>Price: {{ item[5] }} BP</p>
        <p>Turnaround time: {{ item[4] }} days</p>
    {% endif %}
    
    {% if item[3] %}
        <p>Description: {{ item[3] }}</p>
    {% endif %}

    {% if item[6] %}
        <div style="position: relative; display: inline-block;">
            <img src="{{ url_for('static', filename=item[6]) }}" alt="Thumbnail" class="preview-img" oncontextmenu="return false;">
            <div style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
        </div>
    {% endif %}

    {% if examples_list %}
        <h3>Example images</h3>
        {% for ex in examples_list %}
            <div style="position: relative; display: inline-block;">
                <img src="{{ url_for('static', filename=ex) }}" alt="Example" class="preview-img" oncontextmenu="return false;">
                <div style="position: absolute; top:0; left:0; width:100%; height:100%;"></div>
            </div>
        {% endfor %}
    {% endif %}
    <br>
    
    {% if owns %}
        <a href="{{ url_for('download_art', art_id=item[0]) }}" class="btn download">
            Download Original
        </a>
        <form method="POST" action="{{ url_for('remove_ownership', art_id=item[0]) }}" style="display:inline;">
            <button type="submit" class="btn delete" onclick="return confirm('Are you sure you want to remove this from your library?');">Remove from library</button>
        </form>
    {% elif is_author %}
        <a href="{{ url_for('editArt', username = session.get('username'), art_id=item[0]) }}" class="btn">
            Edit artwork
        </a>
    {% elif is_active %}
        <a href="{{ url_for('buy_art', art_id=item[0]) }}" class="btn buy">
            Buy for {{ item[5] }} BP
        </a>
    {% else %}
        <p><em>This artwork has been removed from the shop.</em></p>
    {% endif %}
</div>
{% endblock %}
